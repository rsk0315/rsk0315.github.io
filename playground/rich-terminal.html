<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Rich Terminal</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:ital@0;1&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/rich-terminal.css">
    <link rel="stylesheet" href="css/labeled-frame.css">

    <script src="js/rich-terminal.js"></script>

    <script>
      function render() {
          let input = document.getElementById('input').value.split('\n');
          let inputMarker = input[0];
          let outputMarker = input[1];
          let text = '';
          let close = '';
          for (let i = 2; i < input.length; ++i) {
              let line = input[i];
              if (line.startsWith(inputMarker)) {
                  text += close;
                  text += `<kbd class="input">${line.slice(inputMarker.length)}`;
                  close = '</kbd>\n';
              } else if (line.startsWith(outputMarker)) {
                  text += close;
                  text += `<samp class="output">${line.slice(outputMarker.length)}`;
                  close = '</samp>\n';
              } else {
                  text += `${line}`;
              }
          }
          text += close;
          document.getElementById('terminal').innerHTML = text;
          setEventListener();
      }
    </script>
  </head>
  <body>
    <h1>å¯¾è©±å‹ã‚·ã‚§ãƒ«ã«ã‚³ãƒ”ãƒšã—ã‚„ã™ã„ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ã®ä¾‹</h1>

    <p>
      1 è¡Œç›®ã«ã€å…¥åŠ›é–‹å§‹ã®ãƒãƒ¼ã‚«ãƒ¼ã‚’å…¥åŠ›ã—ã¾ã™ã€‚2 è¡Œç›®ã«ã€å‡ºåŠ›é–‹å§‹ã®ãƒãƒ¼ã‚«ãƒ¼ã‚’å…¥åŠ›ã—ã¾ã™ã€‚
      ã“ã‚Œã‚‰ã¯ã€ãƒãƒ¼ã‚«ãƒ¼ä»¥å¤–ã®å½¹å‰²ã§ã¯è¡Œé ­ã«å‡ºç¾ã—ãªã„æ–‡å­—åˆ—ã‚’é¸ã¶å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
      é€šå¸¸ã®ã‚±ãƒ¼ã‚¹ã«ãŠã„ã¦ã¯ã€1 è¡Œç›®ã¯ <code>% </code>ï¼ˆ% è¨˜å·ã¨ã‚¹ãƒšãƒ¼ã‚¹ï¼‰ã€2 è¡Œç›®ã¯ç©ºè¡Œã§ã‚ˆã„ã§ã—ã‚‡ã†ã€‚
      3 è¡Œç›®ä»¥é™ã«å…¥å‡ºåŠ›å†…å®¹ã‚’æ›¸ãã¾ã™ã€‚
    </p>

    <div class="frame-wrapper">
      <label id="input-label" class="text-label" for="input">ğŸ“ input</label>
      <textarea class="textinput" id="input" rows="8" oninput="render()">% 

% echo 123
123
% echo % 
%</textarea>
    </div>

    <p>
      <kbd><span class="ps1"></span></kbd> ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ãã®è¡Œã®ã‚³ãƒãƒ³ãƒ‰ãŒã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã™ã€‚
      <span style="position: relative;">
        <span class="copy-button-whole" style="position: relative; padding: 2.5px 6px 4px"><span class="copy-button-only-input"></span></span>
      </span>
      ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ä¸€æ‹¬ã§ã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã™ã€‚ç‰¹ã«
      <span style="font-size: 12px"><span class="copy-button-only-input"></span></span>
      ã®éƒ¨åˆ†ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ã‚³ãƒãƒ³ãƒ‰ã®ã¿ãŒä¸€æ‹¬ã§ã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã™ã€‚
      ã‚³ãƒ”ãƒ¼å†…å®¹ã¯ä¸‹ã®ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚‚è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
    </p>

    <div>
      <div class="terminal-wrapper">
        <span class="terminal-deco"></span>
        <span class="copy-button-whole"><span class="copy-button-only-input"></span></span>
        <span class="terminal-tooltip" data-text=""></span>
      </div>
      <pre class="interactive"><div class="terminal" id="terminal"><kbd class="input">echo 123</kbd>
<samp class="output">123</samp>
<kbd class="input">echo %</kbd>
<samp class="output">%</samp>
</div></pre>
    </div>

    <div class="frame-wrapper">
      <label id="input-label" class="text-label" for="clipboard">ğŸ“‹ clipboard</label>
      <textarea class="textinput" id="clipboard" rows="4" disabled></textarea>
    </div>
  </body>
</html>
